<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GuitarTabSymbolTableCreator.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GuitarTabLanguage</a> &gt; <a href="index.source.html" class="el_package">guitartab._symboltable</a> &gt; <span class="el_source">GuitarTabSymbolTableCreator.java</span></div><h1>GuitarTabSymbolTableCreator.java</h1><pre class="source lang-java linenums">/* generated from model GuitarTab */
/* generated by template core.Class*/

/* (c) https://github.com/MontiCore/monticore */
package guitartab._symboltable;

/* generated by template core.Imports*/

import java.util.*;
import java.util.function.*;
import java.util.stream.Stream;
import de.se_rwth.commons.logging.Log;
import de.monticore.ast.ASTNode;
import de.monticore.ast.Comment;
import de.se_rwth.commons.SourcePosition;
import de.monticore.symboltable.*;
import de.monticore.ast.ASTCNode;


 public  class GuitarTabSymbolTableCreator  implements guitartab._visitor.GuitarTabVisitor {

    /* generated by template core.Attribute*/
<span class="nc" id="L23"> protected  Deque&lt;guitartab._symboltable.IGuitarTabScope&gt; scopeStack = new java.util.ArrayDeque&lt;&gt;();</span>

    /* generated by template core.Attribute*/
<span class="nc" id="L26"> private  guitartab._visitor.GuitarTabVisitor realThis = this;</span>

    /* generated by template core.Attribute*/
 protected  guitartab._symboltable.IGuitarTabScope firstCreatedScope ;


    /* generated by template core.Constructor*/
<span class="nc" id="L33"> public  GuitarTabSymbolTableCreator(guitartab._symboltable.IGuitarTabScope enclosingScope)  {</span>
<span class="nc" id="L34">    putOnStack(Log.errorIfNull(enclosingScope));</span>
<span class="nc" id="L35">}</span>

    /* generated by template core.Constructor*/
<span class="nc" id="L38"> public  GuitarTabSymbolTableCreator(Deque&lt;? extends guitartab._symboltable.IGuitarTabScope&gt; scopeStack)  {</span>
<span class="nc" id="L39">    this.scopeStack = Log.errorIfNull((Deque&lt;guitartab._symboltable.IGuitarTabScope&gt;)scopeStack);</span>
<span class="nc" id="L40">}</span>


    /* generated by template core.Method*/
 public  guitartab._visitor.GuitarTabVisitor getRealThis ()  {
      /* generated by template methods.Get*/

<span class="nc" id="L47">return this.realThis;</span>

}

    /* generated by template core.Method*/
 public  void setRealThis (guitartab._visitor.GuitarTabVisitor realThis)  {
      /* generated by template methods.Set*/

<span class="nc" id="L55">this.realThis = realThis;</span>

<span class="nc" id="L57">}</span>

    /* generated by template core.Method*/
 public  guitartab._symboltable.IGuitarTabScope getFirstCreatedScope ()  {
      /* generated by template methods.Get*/

<span class="nc" id="L63">return this.firstCreatedScope;</span>

}

    /* generated by template core.Method*/
 public  guitartab._symboltable.GuitarTabArtifactScope createFromAST (guitartab._ast.ASTTab rootNode)  {
      /* generated by template _symboltable.symboltablecreator.CreateFromAST*/

<span class="nc" id="L71">  Log.errorIfNull(rootNode, &quot;0xA7004x869 Error by creating of the GuitarTabSymbolTableCreator symbol table: top ast node is null&quot;);</span>
<span class="nc" id="L72">  guitartab._symboltable.GuitarTabArtifactScope artifactScope = new guitartab._symboltable.GuitarTabArtifactScope(Optional.empty(), &quot;&quot;, new ArrayList&lt;&gt;());</span>
<span class="nc" id="L73">  putOnStack(artifactScope);</span>
<span class="nc" id="L74">  rootNode.accept(getRealThis());</span>
<span class="nc" id="L75">  return artifactScope;</span>
}

    /* generated by template core.Method*/
 public  void putOnStack (guitartab._symboltable.IGuitarTabScope scope)  {
      /* generated by template _symboltable.symboltablecreator.PutOnStack*/
<span class="nc" id="L81">  Log.errorIfNull(scope);</span>

<span class="nc bnc" id="L83" title="All 4 branches missed.">if (scope.getEnclosingScope() == null &amp;&amp; getCurrentScope().isPresent()) {</span>
<span class="nc" id="L84">    scope.setEnclosingScope(getCurrentScope().get());</span>
<span class="nc" id="L85">    getCurrentScope().get().addSubScope(scope);</span>
<span class="nc bnc" id="L86" title="All 4 branches missed.">} else if (scope.getEnclosingScope() != null &amp;&amp; getCurrentScope().isPresent()) {</span>
<span class="nc bnc" id="L87" title="All 2 branches missed.">    if (scope.getEnclosingScope() != getCurrentScope().get()) {</span>
<span class="nc" id="L88">      Log.warn(&quot;0xA1043 The enclosing scope is not the same as the current scope on the stack.&quot;);</span>
    }
  }

<span class="nc bnc" id="L92" title="All 2 branches missed.">  if (firstCreatedScope == null) {</span>
<span class="nc" id="L93">    firstCreatedScope = scope;</span>
  }

<span class="nc" id="L96">  scopeStack.addLast(scope);</span>
<span class="nc" id="L97">}</span>

    /* generated by template core.Method*/
 public  final  Optional&lt;guitartab._symboltable.IGuitarTabScope&gt; getCurrentScope ()  {
<span class="nc" id="L101">      return Optional.ofNullable(scopeStack.peekLast());</span>
}

    /* generated by template core.Method*/
 public  final  Optional&lt;guitartab._symboltable.IGuitarTabScope&gt; removeCurrentScope ()  {
<span class="nc" id="L106">      return Optional.ofNullable(scopeStack.pollLast());</span>
}

    /* generated by template core.Method*/
 protected  void setTabScopeStack (Deque&lt;guitartab._symboltable.IGuitarTabScope&gt; scopeStack)  {
<span class="nc" id="L111">      this.scopeStack = scopeStack;</span>
<span class="nc" id="L112">}</span>

    /* generated by template core.Method*/
 public  guitartab._symboltable.IGuitarTabScope createScope (boolean shadowing)  {
      /* generated by template _symboltable.symboltablecreator.CreateScope*/

<span class="nc" id="L118">  guitartab._symboltable.IGuitarTabScope scope = guitartab._symboltable.GuitarTabSymTabMill.guitarTabScopeBuilder().build();</span>
<span class="nc" id="L119">  scope.setShadowing(shadowing);</span>
<span class="nc" id="L120">  return scope;</span>
}

    /* generated by template core.Method*/
 public  void visit (guitartab._ast.ASTTab node)  {
      /* generated by template _symboltable.symboltablecreator.VisitNoSymbol*/
<span class="nc bnc" id="L126" title="All 2 branches missed.">  if (getCurrentScope().isPresent()) {</span>
<span class="nc" id="L127">    node.setEnclosingScope(getCurrentScope().get());</span>
  }
  else {
<span class="nc" id="L130">    Log.error(&quot;Could not set enclosing scope of ASTNode \&quot;&quot; + node</span>
              + &quot;\&quot;, because no scope is set yet!&quot;);
  }
<span class="nc" id="L133">}</span>

    /* generated by template core.Method*/
 public  void visit (guitartab._ast.ASTComment node)  {
      /* generated by template _symboltable.symboltablecreator.VisitNoSymbol*/
<span class="nc bnc" id="L138" title="All 2 branches missed.">  if (getCurrentScope().isPresent()) {</span>
<span class="nc" id="L139">    node.setEnclosingScope(getCurrentScope().get());</span>
  }
  else {
<span class="nc" id="L142">    Log.error(&quot;Could not set enclosing scope of ASTNode \&quot;&quot; + node</span>
              + &quot;\&quot;, because no scope is set yet!&quot;);
  }
<span class="nc" id="L145">}</span>

    /* generated by template core.Method*/
 public  void visit (guitartab._ast.ASTSixStrings node)  {
      /* generated by template _symboltable.symboltablecreator.VisitNoSymbol*/
<span class="nc bnc" id="L150" title="All 2 branches missed.">  if (getCurrentScope().isPresent()) {</span>
<span class="nc" id="L151">    node.setEnclosingScope(getCurrentScope().get());</span>
  }
  else {
<span class="nc" id="L154">    Log.error(&quot;Could not set enclosing scope of ASTNode \&quot;&quot; + node</span>
              + &quot;\&quot;, because no scope is set yet!&quot;);
  }
<span class="nc" id="L157">}</span>

    /* generated by template core.Method*/
 public  void visit (guitartab._ast.ASTGuitarString node)  {
      /* generated by template _symboltable.symboltablecreator.VisitNoSymbol*/
<span class="nc bnc" id="L162" title="All 2 branches missed.">  if (getCurrentScope().isPresent()) {</span>
<span class="nc" id="L163">    node.setEnclosingScope(getCurrentScope().get());</span>
  }
  else {
<span class="nc" id="L166">    Log.error(&quot;Could not set enclosing scope of ASTNode \&quot;&quot; + node</span>
              + &quot;\&quot;, because no scope is set yet!&quot;);
  }
<span class="nc" id="L169">}</span>

    /* generated by template core.Method*/
 public  void visit (guitartab._ast.ASTLengthLine node)  {
      /* generated by template _symboltable.symboltablecreator.VisitNoSymbol*/
<span class="nc bnc" id="L174" title="All 2 branches missed.">  if (getCurrentScope().isPresent()) {</span>
<span class="nc" id="L175">    node.setEnclosingScope(getCurrentScope().get());</span>
  }
  else {
<span class="nc" id="L178">    Log.error(&quot;Could not set enclosing scope of ASTNode \&quot;&quot; + node</span>
              + &quot;\&quot;, because no scope is set yet!&quot;);
  }
<span class="nc" id="L181">}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>